{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"❌ 아니! 분명 AWS에 EC2를 생성해서 ssh를 오픈했는데 왜 접속이 안 되나요? ❌ 외부 환경에서 IDC에 있는 회사 서버에 접속이 안 돼요! ❌ 집 로컬 환경에서 서버를 열어두었는데 외부에서 집에 있는 서버가 접속이 안 돼요! 혹시 여러분도 위와 같은 일들을 겪어 보신 적이 있으신가요? 저는 위와 같은 일들을 많이 겪어봤고, 학교를 다니기 전 보안…","fields":{"slug":"/troubleshooting/"},"frontmatter":{"date":"August 19, 2023","title":"서버 접속이 안 될 때 해볼 수 있는 tcpdump를 이용한 트러블 슈팅 방법","tags":["트러블 슈팅"]},"rawMarkdownBody":"\n> - ❌ 아니! 분명 AWS에 EC2를 생성해서 ssh를 오픈했는데 왜 접속이 안 되나요?\n> - ❌ 외부 환경에서 IDC에 있는 회사 서버에 접속이 안 돼요!\n> - ❌ 집 로컬 환경에서 서버를 열어두었는데 외부에서 집에 있는 서버가 접속이 안 돼요!\n\n혹시 여러분도 **위와 같은 일들을 겪어 보신 적이 있으신가요?**\n\n저는 위와 같은 일들을 많이 겪어봤고, 학교를 다니기 전 보안 회사에서 **UTM이라는 방화벽 장비를 다루며 고객사에서 위와 같은 문제들로 인해 직접 트러블 슈팅한 경험**이 많았었습니다. \n\n저는 그때마다 가장 먼저 확인해보는 것이 있는데요! 그것은 바로 **네트워크 패킷**입니다. 위에서 말하는 **접속**이라는 것은 결국 `출발지`에서 `목적지`로 접속한다는 것으로 결국 접속할 때는 `출발지`에서 `목적지`로 **접속을 위한 패킷을 보내게 됩니다**. 이것은 단순히 SSH 접속뿐만이 아니라 **HTTP 접속, MySQL의 서비스 포트인 3306 포트를 접속할 때도 적용되며 대다수의 서비스에 적용**된다고 보시면 될 것 같아요.\n\n그럼 **트러블 슈팅하는 방법을 배우기 전에 알아두면 좋은 내용**에 대해서 먼저 간단하게 말씀드리고 넘어가도록 하겠습니다.\n\n### 트러블 슈팅을 위한 배경 지식\n\n#### 기본적인 네트워크 환경\n\n![Alt text](image-2.png)\n\n보통 일반적인 네트워크 환경을 보면 집 PC에서 공유기를 통해 외부 인터넷에 접속하고 목적지인 서버에 접속하는 방식으로 이루어져 있습니다. 외부 인터넷은 **수많은 라우터가 서로 연결되어 있는 형태로 집에 있는 PC와 서버가 연결**될 수 있는 거죠! 그렇다면 서로 어떤 방식으로 통신하는 걸까요?\n\n\n#### IP가 포함된 네트워크 환경\n\n![Alt text](image-3.png)\n서로 통신하기 위해서는 **별도의 주소**를 가지고 있어야 합니다. 저희가 네이버 지도 앱을 켜서 목적지로 갈 때 출발지와 목적지를 입력하듯 네트워크 통신도 마찬가지로 각 장비마다 별도의 고유 주소가 필요하며 출발지 주소에서 목적지 주소를 바라보고 경로를 탐색해서 찾아가게 됩니다. **네트워크에서는 그 고유한 주소를 IP**라고 불러요!\n\n예를 들어 **192.168.0.100**이라는 집 PC에서 **123.122.111.100**이라는 외부 웹서버를 접속한다고 가정해보겠습니다.\n\n> 1. 192.168.0.100인 집 PC에서 웹 브라우저로 123.122.111.100이라는 웹서버에 접속합니다. (실제로는 도메인을 입력하는 경우가 많겠죠? 하지만 도메인도 실제로는 모두 IP로 이루어져 있답니다!)\n> 2. 그럼 이때 192.168.0.100이라는 집 PC(출발지)에서 패킷을 만들어 공유기의 Gateway인 192.168.0.1로 보내게 되고,집 PC IP였던 192.168.0.100을 223.194.166.251이라는 외부 IP로 변환시켜 외부 인터넷으로 전달하게 됩니다.(내부 PC의 IP를 공유기의 외부 IP로 변환하는이유는 NAT에 대해서 찾아보시면 좋을 것 같아요.)\n> 3. 이때 패킷에는 목적지 IP가 담겨 있는데 이 목적지 IP를 활용하여 라우터들이 계속 경로 설정을 하여 123.122.111.100이라는 서버에 도달할 수 있게 해줍니다.\n\n\n이렇게 간략하게 IP를 통해 네트워크에서 서버와 클라이언트가 어떤식으로 서로 통신하는지에 대해서 알 수 있었는데요. 여기서 중요한 것은 2번에 나왔던 **패킷**입니다. 네트워크에서 말하는 패킷은 **컴퓨터 네트워크에서 전달하는 데이터의 형식화된 블록**입니다. 즉 클라이언트인 192.168.0.100 PC에서 웹 서버인 123.122.111.100 서버로 웹 페이지를 요청할 때 페이지를 받아오는 과정, 요청하는 과정 등 서로 통신을 해야 하고 이 통신에 송신, 수신되는 데이터가 바로 패킷이라고 볼 수 있습니다.\n\n#### 3way Handshake\n지금까지 IP를 통해 통신할 때는 패킷을 이용하여 데이터를 송, 수신받는다고 했습니다. 근데 이 통신을 하기 위해서 그냥 패킷을 보내고 받으면 끝이 아닐까? 생각이 들 수도 있겠지만 실제로는 3way Handshake라는 과정을 통해 먼저 클라이언트와 서버가 연결되어있는지 확인하는 과정이 있습니다.\n\n![Alt text](image-4.png)\n\n**[출처 geeksforgeeks]**\n\n**3way handshake과정**\n\n> 1. SYN : 클라이언트가 서버와의 연결을 위해 SYN이라는 플래그를 보내어 연결 요청을 보냅니다.\n> 2. SYN/ACK : 서버가 클라이언트의 연결 요청을 받아 연결할 수 있다고 판단되면 SYN/ACK 플래그를 클라이언트에게 보내줍니다.\n> 3. ACK : 클라이언트는 서버의 응답을 확인하고 둘 다 실제 데이터 전송을 시작할 안정적인 연결을 설정합니다.\n\n다시 정리해보면 클라이언트에서 서버로 접속할 때 IP를 이용하여 통신을 하는데 그때 패킷을 통해 데이터를 전송하게 되고 통신을 연결하기 전 3way Handshake를 통해 연결 요청을 확인할 수 있다고 볼 수 있습니다. 이때 3way Handshake도 클라이언트가 SYN 패킷을 서버로 보내고, 서버가 SYN/ACK 패킷을 날리며 3way Handshake도 결국 패킷을 이용한 통신 중에 하나로 볼 수 있습니다.\n\n![Alt text](image-5.png)\n\n그럼 **통신을 위해 가장 먼저 발생하는 것이 SYN 패킷**인 거고 저희는 이 **SYN 패킷을 추적**한다면 서버 접속이 안 되고 있는 구간을 알 수 있지 않을까요?\n\n#### tcpdump\n저희는 클라이언트에서 서버로 요청하는 SYN 패킷을 가로채서 확인하기 위해 **tcpdump라는 소프트웨어**를 사용할 겁니다. tcpdump는 네트워크에서 전송되는 패킷을 가로채서 표시할 수 있게 해주는 소프트웨어로 대부분의 유닉스 계열 운영 체제에서 사용 가능합니다. 윈도우에서는 **wireshark**라는 프로그램을 이용할 수 있으며 현재 진행되는 과정들은 tcpdump를 지원하는 유닉스 계열 운영 체제에 해당합니다. 설치를 제외한 나머지 과정은 MacOS에서 진행되며 대다수의 유닉스 계열에 네트워크 관련된 인터페이스가 설치되어있는 경우 tcpdump가 깔린 경우가 많습니다.\n\n**설치**\n``` linux\n// Ubuntu 기준(다른 리눅스 계열도 비슷한 방식으로 설치합니다.)\n# apt install tcpdump\n```\n\n**네트워크 인터페이스 조회**\n\n노트북을 기준으로 생각해보았을 때 노트북은 무선, 유선 2가지가 있고 이 2가지에 모두 IP를 할당받을 수 있습니다. 노트북에는 유선 랜카드, 무선 랜카드 2개의 랜카드가 있다고 볼 수 있으며 인터넷에 연결된 랜카드를 통해 패킷이 나가게 됩니다. 그럼 제 노트북을 기준으로 알아 보도록 하겠습니다. \n\n```\n# ifconfig\n```\n![Alt text](image-7.png)\n\nifconfig를 입력했을 때 가장 왼쪽위에 `:` 왼쪽에 쓰여 있는 것이 **네트워크 인터페이스(랜카드)의 이름**이며 여러 개가 나오는데 그 중 **inet이 입력되어있는 곳이 IP가 부여되어 사용**하고 있는 곳으로 볼 수 있습니다.(유선, 랜선 둘 다 사용하면 inet이 적혀있는 인터페이스가 2개 있을 수 있음!) 저는 en0이라는 네트워크 인터페이스명을 가지고 있고 192.168.1.84라는 IP를 가지고 있네요!\n\n**특정 네트워크 인터페이스에서 나가는 패킷 조회**\n```\n# tcpdump -nni en0\n```\n위에 적힌 명령어는 en0이라는 네트워크 인터페이스를 감시해서 실시간으로 출력하겠다는 뜻입니다.\n\n-  `-i` : 네트워크 인터페이스를 설정하는 옵션\n-  `-n` : 한 번의 n은 IP 주소를 이름으로 변환하지 않고 두 번의 n을 입력할 경우 IP와 포트를 이름으로 변환하지 않습니다.\n\n![Alt text](img1.png)\n\n실행하고 바로 취소를 눌러 캡처된 패킷입니다. 빨간색으로 표시된 부분을 보면 **제 노트북 무선 랜카드에 적혀있는 IP인 192.168.1.84번** `출발지`에서 **104.18.22.107 IP의 443포트인** `목적지`로 패킷이 나가고 있는 것을 볼 수 있습니다. 443포트는 https로 저는 현재 https로 되어있는 웹사이트를 접속해 있기 때문에 위와 같이 패킷이 나오게 되는 겁니다. 그 뒤에 Flags를 볼까요? 제가 자세히 말씀드리진 않았지만 SYN, ACK와 같은 플래그들이 더 있습니다. [.]은 ACK Flag로 봐도 무방하며 연결 후 통신이 이루어지고 있다고 보면 좋을 것 같아요. \n\n이렇게 `출발지` IP에서 `목적지` IP로 가는 패킷에 **Flag가 담겨**있으므로 어느 목적지 서버를 접속할 때 **출발지 네트워크 인터페이스에서 SYN 패킷이 목적지 IP로 날아가는지**, 그리고 서버에서도 동일하게 **서버의 인터페이스에서 클라이언트가 보낸 SYN 패킷이 들어오는지 확인해보면 연결 요청에 대해서 트러블 슈팅** 해볼 수 있지 않을까요? \n\n그럼  **정상 동작일 때와 비정상 동작일 때 각각을 어떻게 확인해볼 수 있고 어떤 차이**가 있는지 알아봅시다.\n\n### 예제\n\n#### 클라이언트에서 정상적으로 서버에 접속되는 경우\n\n![Alt text](image-8.png)\n\n- **클라이언트 PC** : 192.168.1.84\n- **MySQL 서버** : 180.224.180.78\n\n\n현재 저는 카페에 있고 카페 무선 와이파이로 받은 **클라이언트 PC IP는 192.168.1.84**이고 집에 테스트를 하기 위해 열어둔 **MySQL서버는 180.224.180.78번** 입니다. 제 노트북인 192.168.1.84에서 **MySQL Workbench로 집에 있는 180.224.180.78을 접속**해보겠습니다. 접속할 때는 아래와 같이 명령어를 통해 패킷을 캡처해보도록 하겠습니다.\n\n```\n# tcpdump -nni en0 port 33306\n```\n\n명령어에 port를 입력하는 경우 특정 포트를 선택해서 캡처할 수 있습니다.(집에 있는 MySQL서버는 테스트 용도로 3306 포트가 아닌 33306포트로 오픈되어있는 상태입니다.)\n\n\n**클라이언트에서 확인한 tcpdump**\n![Alt text](img2.png)\n\n위 사진은 클라이언트에서 캡처한 패킷인데 **192.168.1.84에서 180.224.180.78의 33306포트로 SYN패킷**이 나가는 것을 확인할 수 있습니다. 아래 <b>Flag [S.]</b>의 경우 **SYN/ACK**를 표현하는 뜻이며 그 아래 바로 <b>Flag [.]</b>이 나온 것을 보면 정상적으로 연결된 것을 확인해볼 수 있습니다. 그럼 반대편인 MySQL서버에서도 확인해볼까요?\n\n**서버 네트워크 인터페이스 확인**\n![Alt text](image-9.png)\n\n우선 MySQL 서버의 IP는 **172.17.0.4**이고 eth0이라는 네트워크 인터페이스를 이용하고 있습니다. 서버의 IP인 180.224.180.78도 외부 IP일 뿐 NAT가 적용되고 현재 도커로 돌린 MySQL이기 때문에 위와 같이 172.17.0.4로 나오게 됩니다. 출발지에서 보기에는 서버는 **180.224.180.78** IP를 가지고 있다고 봐주시면 될 것 같아요!\n\n\n\n**서버에서 확인한 tcpdump**\n```\n# tcpdump -nni eth0\n```\n![Alt text](img3.png)\n\n출발지 172.17.0.1에서 172.17.0.4의 3306포트로 SYN 패킷이 들어온 것을 보실 수 있습니다. 현재 출발지 IP가 카페 외부 IP인 39.115.214.146으로 나오지 않는 이유는 현재 제가 도커를 이용해서이고 33306포트가 아닌 3306으로 나오는 이유도 도커의 외부포트 내부포트를 변경해서입니다. \n\n현재 저 빨간색 패킷 부분은 결국 39.115.214.146이라는 제 노트북이 저의 집에 있는 서버인 180.224.180.78의 33306포트로 접근했다 라고 생각해주시면 될 것 같아요.\n\n**결국 클라이언트에서 서버로 접속되는 패킷이 정상적으로 SYN, SYN/ACK, ACK가 된 것을 확인할 수 있고 클라이언트와 서버에서 모두 패킷을 확인할 수 있었습니다.**\n\n#### 클라이언트에서 정상적으로 서버에 접속되지 않는 경우\n\n**1. 서버가 Down 되어있을 때**\n\n![Alt text](img4.png)\n\n**클라이언트에서 확인한 tcpdump**\n![Alt text](img5.png)\n\n**SEW는 SYN ECE CWR의 약자입니다.**\n- SYN은 새로운 연결을 시작한다는 이야기이고\n- ECE는 Explicit Congestion Notification이라는 TCP혼잡제어 기능을 사용할 수 있다고 알려주는 것입니다.\n- CWR(Congestion Window Reduced)은 슬라이딩윈도우의 윈도우 사이즈를 줄여달라는 뜻입니다.\n  \n결국 SEW도 **SYN의 일종으로 SYN**을 보냈으나 Flag가 <b>[S.]</b>가 아닌 <b>[R.]</b> **연결종료가** 나왔으므로 서버와 정상적으로 연결될 수 없는 것을 알 수 있습니다. **이때 클라이언트에서는 SYN을 보낸 게 확인되었기 때문에 SYN을 보낸 클라이언트에서는 전혀 접속하는 데 문제가 없는 것이고 서버 쪽이 문제 있을 수 있다라고 유추할 수 있게 됩니다.** \n\n**2. 서버 상단의 방화벽이 막고 있을 때**\n\n실제로 중요한 회사 서버들은 서버 앞단에 방화벽 같은 보안 장비를 두는 경우가 많습니다. 소프트웨어 단계에서의 방화벽도 있으며 하드웨어든 소프트웨어로 이루어져 있든 MySQL서버 앞단에서 33306으로 들어오는 **포트를 차단할 경우 외부에서는 내부에 있는 MySQL서버를 접속하지 못하는 거죠**. 제가 회사에 다니며 겪었던 가장 흔한 일 중의 하나였습니다.\n\n![Alt text](img6.png)\n\n그럼 192.168.1.84인 클라이언트에서 180.224.180.78 서버로 접속 요청을 시도해보겠습니다.\n\n**클라이언트에서 확인한 tcpdump**\n![Alt text](image-11.png)\n\n180.224.180.78로 계속 SYN 패킷을 날리고 있습니다. 위에서 서버가 다운되었을 때는 찾지 못해 [R.] Flag가 뜨며 바로 종료되었으나 현재 서버는 다운되지 않았지만, **방화벽에 의해 포트가 차단이 되어 SYN 패킷은 날아가지만 서버에서는 응답은 없는 현상이 발생**하는 것입니다. 그럼 MySQL서버는 다운되지 않았으니 클라이언트가 서버에 접속 요청을 보낼 때 서버에서 패킷을 한 번 캡처해볼까요?\n\n**서버에서 확인한 tcpdump**\n![Alt text](image-12.png)\n\n예상하셨겠지만 **아무런 패킷을 받을 수 없었습니다**. 서버 상단에 있는 방화벽에서 패킷을 막고 있기 때문에 방화벽을 통과할 수 없어 이런 현상이 발생하고, 이처럼 클라이언트에서 나가는 것은 확인했는데 서버까지 안 들어온다고 하면 클라이언트에서 출발 이후 서버에게 도착하기전까지 어떤 장비나 소프트웨어에 의해 막혀있다고 판단할 수 있는 거죠. \n\n방화벽 차단뿐만 아니라 포트포워딩을 잘못 설정했을 때, AWS에서 보안 그룹 설정을 잘못했을 때 등 다양한 원인에 의해 발생할 수 있습니다. \n\n\n### 마지막으로\n\n클라이언트에서 서버로 접속이 안 되는 경우는 사실 어디가 잘못되었다고 쉽게 특정할 수는 없습니다. 정말 다양한 원인에 의해 발생할 수 있는 문제이지만 앞에서 말씀드린 것처럼 tcpdump를 이용한다면 네트워크 어느 구간에서 문제가 있는지 유추할 수 있어 시간을 절약할 수 있습니다.\n\n모든 분이 이해하기 쉽게 작성하기 위해 자세하게 적기보다는 어떠한 원리로 트러블 슈팅할 수 있는지에 초점을 맞춰서 글을 작성했습니다. tcpdump는 실제로 활용할 수 있는 방법이 많으므로 한 번 따로 공부해보시는 것도 추천해 드립니다!\n\n\n### 번외\n![Alt text](image-13.png)\n\nSpringBoot에서 JDBC를 사용하면 Hikari CP(커넥션 풀)를 이용하게 되는데 이때 값을 설정하지 않으면 디폴트 값으로 웹서버와 DB서버 사이에 풀을 10개 만들게 됩니다. 이것도 사실 데이터베이스와 웹서버가 네트워크 통신으로 이루어지기 때문에 위와 같이 패킷을 캡처해서 실제로 **10번의 요청을** 보내는지 알 수 있게 됩니다. 위 사진에서도 SEW 즉, SYN 패킷이 10번 날아간 것을 확인해볼 수 있습니다!\n\n\n긴 글 읽어주셔서 감사합니다. 🙏🙏🙏\n\n\n\n\n\n"},{"excerpt":"How to change the favicon? The favicon is located in . If you replace that image, the favicon will change. If you want to change the name of the favicon, change the  property of  in . Utterance is no…","fields":{"slug":"/other-tips/"},"frontmatter":{"date":"May 04, 2021","title":"🤩 4. Other Tips","tags":["hoodie","other-tips"]},"rawMarkdownBody":"\n## How to change the favicon?\n\nThe favicon is located in `static/favicon.png`. If you replace that image, the favicon will change.\n\nIf you want to change the name of the favicon, change the `icon` property of `gatsby-plugin-manifest` in `gatsby-config.js`.\n\n## Utterance is not working properly.\n\nIn the http environment, utterance may not work properly. Host your blog with https.\n\n## How to set OG Image?\n\nReplace the `og-image.png` file in the `/static` directory with your own image file.\n\n## Do you have another question?\n\nPlease comment on this article or [open an issue](https://github.com/devHudi/gatsby-starter-hoodie/issues) in the gatsby-starter-hoodie repository. Your participation advances gatsby-starter-hoodie. Thank you 😎.\n"},{"excerpt":"1. Add a post You can add posts by creating a new markdown document in the  path. 1-1. Post file structure There are two ways to add a new document. The first is to create a markdown file for a singl…","fields":{"slug":"/writing-guide/"},"frontmatter":{"date":"May 03, 2021","title":"🤔 3. Writing Guide","tags":["hoodie","writing-guide"]},"rawMarkdownBody":"\n## 1. Add a post\n\nYou can add posts by creating a new markdown document in the `contents/post` path.\n\n### 1-1. Post file structure\n\nThere are two ways to add a new document. The first is to create a markdown file for a single document without a directory. If you are writing about JavaScript, you can create a `about-javascript.md` file in the `contents/posts` directory.\n\nThe second is to create a directory and create an `index.md` file in it. This method is useful when the document contains several additional files such as picture files.\n\nEach file name or directory name becomes a unique address of the document and can be accessed as follows. `https://siteURL/about-javascript`.\n\n### 1-2. Frontmatter\n\nThe Markdown document you create contains the document's metadata called frontmatter.\n\n```\n---\ntitle: \"🤔 3. Writing Guide\"\ndescription: \"How to write and add a post?\"\ndate: 2021-05-03\nupdate: 2021-05-03\ntags:\n  - hoodie\n  - writing-guide\nseries: \"Getting started your blog with gatsby-starter-hoodie\"\n---\n```\n\nAbove is the frontmatter of the document you are currently reading. Among them, title and date are required. It is recommended to enclose the string with spaces in quotation marks.\n\n### 1-3. Writing markdown\n\nIf you have written a Frontmatter, you can write your markdown document under it. gatsby-starter-hoodie supports most Markdown syntax. To learn more about Markdown syntax, see the [Mastering Markdown](https://guides.github.com/features/mastering-markdown/) documentation on GitHub.\n\n## 2. Syntax Highlighting & Katex\n\n### 2-1. Syntax Highlighting\n\nSyntax highlighting based on Prism.JS is supported.\n\n#### Examples\n\nJavascript\n\n```javascript\nconsole.log(\"Hello, world!\")\n```\n\nPython\n\n```python\nprint(\"Hello, world!\")\n```\n\nIt supports a wider variety of other languages. Check it out on the [Prism.js website](https://prismjs.com/).\n\n### 2-2. Katex\n\nIt supports Katex syntax, you can easily express complex formulas.\n\n#### Inline mode\n\n$$E = m c^{2}$$\n\n#### Block mode\n\n$$\n\\int_{0}^{\\infty} f(x) dx\n$$\n\n## 3. Add images to a post\n\nYou can easily embed images using relative paths. It is easy to manage documents containing images by creating a directory.\n\n![Sample Image Caption](sample-image.jpg)\n\nImages are loaded with Lazy Loading, so you can secure fast document loading speed.\n\n> ⚠ The extension of the file must be set to lowercase.\n\n## 4. Tagging\n\n![](tag-example.jpg)\n\nYou can classify and search documents by tag set in Frontmatter. All tags you set can be viewed and searched in `https://siteUrl/tags`.\n\n## 5. Series\n\n![](series-example.jpg)\n\nYou can publish multiple related documents in a series. The series set in Frontmatter is grouped together and shown at the top of the document. This can be useful for serialized documents with an order. Series documents are displayed in ascending order of creation date.\n\nThe current document is also set in a series called `Getting started your blog with gatsby-starter-hoodie`.\n"},{"excerpt":"Getting started your blog with gatsby-starter-hoodie by following steps below. It's very easy 😉. 1. Create a Gatsby site Make sure you have node.js and gatsby-cli installed on your computer. 2. Start…","fields":{"slug":"/quick-start/"},"frontmatter":{"date":"May 02, 2021","title":"🚀 2. Quick Start","tags":["hoodie","quick-start"]},"rawMarkdownBody":"\nGetting started your blog with gatsby-starter-hoodie by following steps below. It's very easy 😉.\n\n## 1. Create a Gatsby site\n\n> Make sure you have **node.js** and **gatsby-cli** installed on your computer.\n\n```\n$ npx gatsby new my-hoodie-blog https://github.com/devHudi/gatsby-starter-hoodie\n```\n\n## 2. Start dev server\n\n```\n$ cd my-hoodie-blog\n$ npm run start\n```\n\nNow you can access to your blog at localhost:8000.\n\n## 3. Create your own Github repository\n\nUtterance comment widget is based on **Github issue system**. So you need your own GitHub repository. Also, if you want to publish your blog through Github Pages or Netlify, the Github Repository is a necessary.\n\nIf you don't know how to create a GitHub repository, follow the [official GitHub documentation](https://docs.github.com/en/github/getting-started-with-github/create-a-repo).\n\n### Add remote repository\n\n```\n$ git init\n$ git remote add origin https://github.com/{YOUR_GITHUB_NAME}/{YOUR_REPOSITORY_NAME}\n```\n\n## 4. Write blog-config.js\n\n```javascript\nmodule.exports = {\n  title: \"MY BLOG\",\n  description: \"Hello, This is my blog\",\n  author: \"YOUR NAME\",\n  siteUrl: \"https://myblog.com\",\n  links: {\n    github: \"https://github.com\",\n    facebook: \"https://www.facebook.com\",\n    instagram: \"https://www.instagram.com\",\n    etc: \"https://www.google.com/\",\n  },\n  utterances: {\n    repo: \"{YOUR_GITHUB_NAME}/{YOUR_REPOSITORY_NAME}\",\n    type: \"pathname\",\n  },\n}\n```\n\ngatsby-starter-hoodie provides a configuration file called `blog-config.js`. In this file, you can configure blog, biography (profile), and utterance. The website settings you are currently viewing are as above.\n\nConfigure `blog-config.js` to suit your blog. However, it is recommended not to modify `utterances.type`.\n\n### Change profile image\n\nReplace `static/profile.png` with the image you want. To change the image file name, you need to change the source code of `src/components/Bio.jsx`.\n\n## 5. Add your content\n\nMarkdown content is in `contents/posts`. You can write and add your articles like the sample posts here. [Click here](/writing-guide) to see the detail writing guide.\n\n## 6. Deploy your blog\n\n### 6-1 via Netlify\n\nFollow the Connecting to Netlify steps in [A Step-by-Step Guide: Gatsby on Netlify](https://www.netlify.com/blog/2016/02/24/a-step-by-step-guide-gatsby-on-netlify/). It's not difficult.\n\nIf you connect the github repository using Netlify, it is automatically distributed whenever you push it, so it is convenient.\n\n### 6-2. via Github Pages\n\n#### Case 1\n\nIf the repository name is in the form of `{YOUR_GITHUB_NAME} .github.io`, run it below.\n\n```\n$ npm run deploy-gh\n```\n\n#### Case 2\n\nIf the repository name is not in the form of `{YOUR_GITHUB_NAME} .github.io`, run it below.\n\n```\n$ npm run deploy-gh-prefix-paths\n```\n\nIn the above case, you need to change `pathPrefix` in `gatsby-config.js` to your repository name.\n\n### 6-3. other platforms\n\n```\n$ npm run build\n```\n\nYou can build the gatsby website with the command above. The build output is created in the `/public` directory. Deploy the `/public` directory using the command for the platform you want to deploy.\n\n## 7. Cutomize\n\n### Project Structure\n\nYou can customize your own gatsby-starter-hoodie by referring to the following file structure 🙊.\n\n```\n├── node_modules\n├── contents\n│   └── posts // your articles are here\n├── public // build outputs are here\n└── src\n    ├── assets\n    │   └── theme // theme config is here\n    ├── components\n    │   └── Article\n    │       └── Body\n    │           └── StyledMarkdown\n    │               └── index.jsx // markdown styles are here\n    │   ...\n    ├── fonts // webfonts are here\n    ├── hooks\n    ├── images\n    ├── pages // page components are here\n    ├── reducers\n    ├── templates // post components are here\n    └── utils\n```\n"},{"excerpt":"About gatsby-starter-hoodie gatsby-starter-hoodie is a gatsby theme created for writing tech blogs. Markdown, Code Highlighting in various programming languages, and Katex syntax are supported. Also,…","fields":{"slug":"/about-hoodie/"},"frontmatter":{"date":"May 01, 2021","title":"🎇 1. About gatsby-starter-hoodie","tags":["hoodie","about"]},"rawMarkdownBody":"\n## About gatsby-starter-hoodie\n\ngatsby-starter-hoodie is a gatsby theme created for writing tech blogs. Markdown, Code Highlighting in various programming languages, and Katex syntax are supported. Also, you can easily categorize articles into tags and series.\n\nStart your blog with a neatly designed gatsby-starter-hoodie that supports dark mode.\n\n## Features\n\n- Markdown\n- Code Highlighting\n- Katex Syntax\n- Dark Mode (Responsive to the settings of the OS)\n- Tag Categoriazation\n- Series Categorization\n- Responsive Web\n- SEO\n- Utterance (Comment widget)\n\n## Let's get started\n\nFollow the [Quick Start](/quick-start)\n"},{"excerpt":"파비콘은 어떻게 변경하나요?  에 파비콘 파일이 위치해 있습니다. 이미지 파일을 대체하면 파비콘을 변경할 수 있습니다. 만약 파비콘 파일의 이름을 변경하고 싶다면,  파일의  에서  속성을 변경하셔야합니다. Utterance 가 제대로 작동하지 않아요. http 환경에서는 Utterance 가 제대로 작동하지 않을 수 있습니다. 여러분의 웹사이트를 htt…","fields":{"slug":"/other-tips-kr/"},"frontmatter":{"date":"April 04, 2021","title":"🤩 4. 그 외 팁들","tags":["hoodie","other-tips"]},"rawMarkdownBody":"\n## 파비콘은 어떻게 변경하나요?\n\n`static/favicon.png` 에 파비콘 파일이 위치해 있습니다. 이미지 파일을 대체하면 파비콘을 변경할 수 있습니다.\n\n만약 파비콘 파일의 이름을 변경하고 싶다면, `gatsby-config.js` 파일의 `gatsby-plugin-manifest` 에서 `icon` 속성을 변경하셔야합니다.\n\n## Utterance 가 제대로 작동하지 않아요.\n\nhttp 환경에서는 Utterance 가 제대로 작동하지 않을 수 있습니다. 여러분의 웹사이트를 https 환경으로 제공하세요.\n\n## OG Image 를 설정하고 싶어요.\n\n`/static` 디렉토리의 `og-image.png` 파일을 여러분이 원하는 이미지 파일로 대체하세요.\n\n## 다른 질문이 있으신가요?\n\n이 문서에 댓글을 달거나 gatsby-starter-hoodie 레포지토리에 [이슈를 열어주세요](https://github.com/devHudi/gatsby-starter-hoodie/issues). 여러분의 참여가 gatsby-starter-hoodie 를 더욱 발전시킵니다. 감사해요 😎.\n"},{"excerpt":"1. 포스트 추가하기  경로에 새로운 마크다운 파일을 생성하여 여러분의 글을 추가할 수 있습니다. 1-1. 포스트 파일 구조 새로운 문서를 추가하는 방법에는 두가지가 있습니다. 첫번째는 디렉토리 없이 문서를 생성하는 방법입니다. 만약 여러분이 Javascript 에 관한 문서를 생성한다면,  파일을  디렉토리에 추가할 수 있습니다. 두번째 방법은 먼저 디…","fields":{"slug":"/writing-guide-kr/"},"frontmatter":{"date":"April 03, 2021","title":"🤔 3. 작성 가이드","tags":["hoodie","writing-guide"]},"rawMarkdownBody":"\n## 1. 포스트 추가하기\n\n`contents/post` 경로에 새로운 마크다운 파일을 생성하여 여러분의 글을 추가할 수 있습니다.\n\n### 1-1. 포스트 파일 구조\n\n새로운 문서를 추가하는 방법에는 두가지가 있습니다. 첫번째는 디렉토리 없이 문서를 생성하는 방법입니다. 만약 여러분이 Javascript 에 관한 문서를 생성한다면, `about-javascript.md` 파일을 `contents/posts` 디렉토리에 추가할 수 있습니다.\n\n두번째 방법은 먼저 디렉토리를 생성한 뒤, 디렉토리 안에 `index.md` 파일을 추가하는 것 입니다. 이 방법은 문서 내에 여러 이미지 파일 등 부수적인 파일 여러개가 포함되었을 때 유용합니다.\n\n첫번째 방법으로 생성한 파일명이나, 두번째 방법으로 생성한 디렉토리 이름은 웹사이트에서 고유의 주소를 갖습니다. `https://siteURL/about-javascript` 와 같이요.\n\n### 1-2. Frontmatter\n\n마크다운은 문서의 메타데이터인 Frontmatter 라 불리는 정보를 가지고 있습니다.\n\n```\n---\ntitle: \"🤔 3. 작성 가이드\"\ndescription: \"어떻게 글을 작성하고 추가할까요?\"\ndate: 2021-04-03\nupdate: 2021-04-03\ntags:\n  - hoodie\n  - writing-guide\nseries: \"gatsby-starter-hoodie 로 블로그 시작하기\"\n---\n```\n\n위는 지금 여러분이 읽고 있는 문서의 Frontmatter 입니다. `title` 과 `date` 는 필수 값입니다. 띄어쓰기를 포함된 문자열을 입력할 때에는 따옴표로 감싸는 것을 추천합니다.\n\n### 1-3. 마크다운 작성하기\n\n만약 Frontmatter 까지 작성했다면, 여러분은 그 아래에 마크다운 문서를 작성하면 됩니다. gatsby-starter-hoodie 는 대부분의 마크다운 문법을 지원합니다. 마크다운 작성 방법을 알고 싶다면, Github 의 [Mastering Markdown](https://guides.github.com/features/mastering-markdown/) 문서를 참고하세요.\n\n## 2. 코드 하이라이팅 & Katex\n\n### 2-1. 코드 하이라이팅\n\nPrism.JS 에 기반한 코드 하이라이팅이 제공됩니다.\n\n#### 예시\n\nJavascript\n\n```javascript\nconsole.log(\"Hello, world!\")\n```\n\nPython\n\n```python\nprint(\"Hello, world!\")\n```\n\n그 외 더 많은 언어를 제공합니다. 제공되는 언어를 확인하고 싶다면, [Prism.js 웹사이트](https://prismjs.com/) 를 참고하세요.\n\n### 2-2. Katex\n\nKatex 문법을 지원하여 복잡한 수식도 쉽게 표현할 수 있습니다.\n\n#### 인라인 모드\n\n$$E = m c^{2}$$\n\n#### 블럭 모드\n\n$$\n\\int_{0}^{\\infty} f(x) dx\n$$\n\n## 3. 글에 이미지 추가하기\n\n상대경로를 이용하여 쉽게 이미지를 추가할 수 있습니다. 디렉토리를 생성하고 그 안에 `index.md` 를 추가하여, 글을 추가하는 방법으로 작성해야 이미지 관리가 쉽습니다.\n\n![샘플 이미지 캡션](sample-image.jpg)\n\n이미지는 Lazy Loading 으로 로드되어, 빠른 초기 문서 로딩 속도를 확보할 수 있습니다.\n\n> ⚠ 이미지의 모든 확장자는 소문자여야합니다.\n\n## 4. 태그\n\n![](tag-example.jpg)\n\nFrontmatter 의 태그를 통해 쉽게 문서를 분류하고 검색할 수 있습니다. 여러분의 모든 태그는 `https://siteUrl/tags` 경로에서 확인하고, 검색할 수 있습니다.\n\n## 5. 시리즈\n\n![](series-example.jpg)\n\n여러분이 연관된 여러개의 문서를 작성할 때 시리즈를 사용할 수 있습니다. Frontmatter 에 작성된 시리즈가 같은 문서끼리 묶여 문서 상단에 리스트로 표시됩니다. 시리즈는 일련의 순서가 있는 문서들을 작성할 때 유용하게 사용할 수 있습니다. 시리즈는 문서의 작성 날짜 순서대로 정렬됩니다.\n\n현재 문서는 `gatsby-starter-hoodie 로 블로그 시작하기` 라는 시리즈로 설정되어 있습니다.\n"},{"excerpt":"아래 단계를 따라서 여러분의 블로그를 시작하세요. 굉장히 쉬워요 😉. 1. Gatsby 사이트 생성 컴퓨터에 node.js 와 gatsby-cli 가 설치되어 있어야합니다. 2. 개발 서버 시작 이제 localhost:8000 으로 여러분의 블로그를 접속할 수 있습니다. 3. Github 레포지토리 생성 Utterance 댓글 위젯은 Github 이슈 시…","fields":{"slug":"/quick-start-kr/"},"frontmatter":{"date":"April 02, 2021","title":"🚀 2. 빠르게 시작하기","tags":["hoodie","quick-start"]},"rawMarkdownBody":"\n아래 단계를 따라서 여러분의 블로그를 시작하세요. 굉장히 쉬워요 😉.\n\n## 1. Gatsby 사이트 생성\n\n> 컴퓨터에 **node.js** 와 **gatsby-cli** 가 설치되어 있어야합니다.\n\n```\n$ npx gatsby new my-hoodie-blog https://github.com/devHudi/gatsby-starter-hoodie\n```\n\n## 2. 개발 서버 시작\n\n```\n$ cd my-hoodie-blog\n$ npm run start\n```\n\n이제 localhost:8000 으로 여러분의 블로그를 접속할 수 있습니다.\n\n## 3. Github 레포지토리 생성\n\nUtterance 댓글 위젯은 **Github 이슈 시스템** 기반입니다. 따라서 각 블로그 별 Github 레포지토리가 필요합니다. 또한 여러분이 Github Pages 혹은 Netlify 로 블로그를 배포하길 원한다면, Github 레포지토리는 필수입니다.\n\n만약 Github 레포지토리를 생성하는 법을 모른다면, [Github 공식 문서](https://docs.github.com/en/github/getting-started-with-github/create-a-repo) 를 참조하세요.\n\n### 원격 레포지토리 등록\n\n```\ngit remote add origin https://github.com/{YOUR_GITHUB_NAME}/{YOUR_REPOSITORY_NAME}\n```\n\n## 4. blog-config.js 작성\n\n```javascript\nmodule.exports = {\n  title: \"MY BLOG\",\n  description: \"Hello, This is my blog\",\n  author: \"YOUR NAME\",\n  siteUrl: \"https://myblog.com\",\n  links: {\n    github: \"https://github.com\",\n    facebook: \"https://www.facebook.com\",\n    instagram: \"https://www.instagram.com\",\n    etc: \"https://www.google.com/\",\n  },\n  utterances: {\n    repo: \"{YOUR_GITHUB_NAME}/{YOUR_REPOSITORY_NAME}\",\n    type: \"pathname\",\n  },\n}\n```\n\ngatsby-starter-hoodie 는 `blog-config.js` 라는 설정 파일을 제공합니다. 이 파일에서 블로그 정보, 작성자 프로필, Utterance 설정 등을 작성할 수 있습니다. 여러분 블로그 설정에 맞게 `blog-config.js` 를 설정하세요. 하지만, `utterances.type` 속성은 수정하지 않는 것을 권장합니다.\n\n### 프로필 이미지 변경\n\n`static/profile.png` 에 위치한 이미지 파일을 원하는 이미지 파일로 교체하세요. 만약 파일명을 변경하고 싶다면, `src/components/Bio.jsx` 의 소스코드를 수정해야합니다.\n\n## 5. 포스트 추가\n\n마크다운 포스트는 `contents/posts` 경로에 위치해있습니다. 해당 경로에서 글을 작성할 수 있습니다. [여기를 클릭하여](https://devHudi.github.io/gatsby-starter-hoodie/writing-guide) 더 자세한 글 작성 방법을 확인하세요.\n\n## 6. 블로그 배포하기\n\n### 6-1 Netlify 를 통해\n\n[A Step-by-Step Guide: Gatsby on Netlify](https://www.netlify.com/blog/2016/02/24/a-step-by-step-guide-gatsby-on-netlify/) 문서를 참조하여, Netlify 를 Github 레포지토리와 연결할 수 있습니다. 이 과정은 어렵지 않습니다.\n\nGithub 레포지토리와 연결이 되었다면, Github 레포지토리에 변경사항이 발생할 때 마다 자동으로 여러분의 블로그에 배포됩니다.\n\n### 6-2. Github Pages 를 통해\n\n#### 상황 1\n\n레포지토리 이름이 `{YOUR_GITHUB_NAME}.github.io` 형태일 경우, 아래 명령어를 실행해주세요.\n\n```\n$ npm run deploy-gh\n```\n\n#### 상황 2\n\n레포지토리 이름이 `{YOUR_GITHUB_NAME}.github.io` 형태가 아닐 경우, 아래 명령어를 실행해주세요.\n\n```\n$ npm run deploy-gh-prefix-paths\n```\n\n만약 위와 같은 경우 `gatsby-config.js` 에서 `pathPrefix` 를 여러분의 레포지토리 이름으로 바꿔야합니다.\n\n### 6-3. 다른 플랫폼\n\n```\n$ npm run build\n```\n\n위 명령어로 Gastby 웹사이트를 빌드할 수 있습니다. 빌드 결과물은 `/public` 에 저장됩니다. `/public` 디렉토리를 여러분이 사용하는 플랫폼의 배포 명령을 통해 배포해주세요.\n\n## 7. 커스터마이징\n\n### 프로젝트 구조\n\n아래 프로젝트 구조를 참고하여 커스터마이징 할 수 있습니다 🙊.\n\n```\n├── node_modules\n├── contents\n│   └── posts // your articles are here\n├── public // build outputs are here\n└── src\n    ├── assets\n    │   └── theme // theme config is here\n    ├── components\n    │   └── Article\n    │       └── Body\n    │           └── StyledMarkdown\n    │               └── index.jsx // markdown styles are here\n    │   ...\n    ├── fonts // webfonts are here\n    ├── hooks\n    ├── images\n    ├── pages // page components are here\n    ├── reducers\n    ├── templates // post components are here\n    └── utils\n```\n"},{"excerpt":"gatsby-starter-hoodie 에 대하여 gatsby-starter-hoodie 는 기술 블로그를 작성하기 위해 개발된 Gatsby 테마입니다. 마크다운과 많은 프로그래밍 언어의 코드 하이라이팅, 그리고 Katex 문법을 지원합니다. 또한 태그와 시리즈를 통하여 쉽게 게시물을 분류할 수 있습니다. 다크모드를 지원하는 깔끔한 디자인의 gatsby-…","fields":{"slug":"/about-hoodie-kr/"},"frontmatter":{"date":"April 01, 2021","title":"🎇 1. gatsby-starter-hoodie 에 대하여","tags":["hoodie","about"]},"rawMarkdownBody":"\n## gatsby-starter-hoodie 에 대하여\n\ngatsby-starter-hoodie 는 기술 블로그를 작성하기 위해 개발된 Gatsby 테마입니다. 마크다운과 많은 프로그래밍 언어의 코드 하이라이팅, 그리고 Katex 문법을 지원합니다. 또한 태그와 시리즈를 통하여 쉽게 게시물을 분류할 수 있습니다.\n\n다크모드를 지원하는 깔끔한 디자인의 gatsby-starter-hoodie 로 여러분의 블로그를 시작하세요.\n\n## 주요 기능\n\n- 마크다운\n- 코드 하이라이팅\n- Katex 문법\n- 다크모드 (OS 환경설정과 연동)\n- 태그 분류\n- 시리즈 분류\n- 반응형 웹\n- SEO\n- Utterance (댓글 위젯)\n\n## 시작\n\n[빠르게 시작하기](/quick-start-kr) 문서에서 블로그를 세팅하세요.\n"}]}},"pageContext":{}},"staticQueryHashes":[],"slicesMap":{}}